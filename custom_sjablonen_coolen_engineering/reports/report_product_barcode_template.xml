<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <record id="paper_format_barcode_label" model="report.paperformat">
        <field name="name">Product Barcode Labels</field>
        <field name="default" eval="True"/>
        <field name="format">custom</field>
        <field name="page_height">30</field>
        <field name="page_width">62</field>
        <field name="orientation">Portrait</field>
        <field name="margin_top">1</field>
        <field name="margin_bottom">1</field>
        <field name="margin_left">1</field>
        <field name="margin_right">1</field>
        <field name="header_line" eval="False" />
        <field name="header_spacing">0</field>
        <field name="dpi">90</field>
    </record>

    <record id="action_product_product_barcode_report" model="ir.actions.report">
        <field name="name">Product Barcode label</field>
        <field name="model">product.product</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">custom_sjablonen_coolen_engineering.report_product_product_barcode</field>
        <field name="report_file">custom_sjablonen_coolen_engineering.report_product_product_barcode</field>
        <field name="paperformat_id" ref="paper_format_barcode_label"/>
        <field name="binding_model_id" ref="product.model_product_product"/>
        <field name="binding_type">report</field>
    </record>

    <record id="action_product_template_barcode_report" model="ir.actions.report">
        <field name="name">Product Barcode label</field>
        <field name="model">product.template</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">custom_sjablonen_coolen_engineering.report_product_template_barcode</field>
        <field name="report_file">custom_sjablonen_coolen_engineering.report_product_template_barcode</field>
        <field name="paperformat_id" ref="paper_format_barcode_label"/>
        <field name="binding_model_id" ref="product.model_product_template"/>
        <field name="binding_type">report</field>
    </record>

    <template id="product_barcode_template">
        <div style="width: 62mm;height: 30mm;" class="text-center">
            <p style="width: 100%;text-align: center;font-size: 16px;margin; 5px;"><span t-field="product.name"/></p>
            <img t-att-src="'/report/barcode/?humanreadable=1&amp;type=%s&amp;value=%s&amp;width=%s&amp;height=%s' % ('Code128', product.barcode, 500, 60)" style="width:100%;height:60px;" alt="Barcode"/>
        </div>
    </template>

    <template id="report_product_product_barcode">
        <t t-call="web.basic_layout">
            <t t-foreach="docs" t-as="product">
                <div class="page">
                    <t t-call="custom_sjablonen_coolen_engineering.product_barcode_template"/>
                </div>
            </t>
        </t>
    </template>

    <template id="report_product_template_barcode">
        <t t-call="web.basic_layout">
            <t t-foreach="docs" t-as="product_template">
                <t t-set="product" t-value="product_template.product_variant_id"/>
                <div class="page">
                    <t t-call="custom_sjablonen_coolen_engineering.product_barcode_template"/>
                </div>
            </t>
        </t>
    </template>

</odoo>
